<html>
<head>
  <title></title>
  <style>
    canvas {border: 1px solid black}
  </style>
</head>
<body>
  <h1>While Loop</h1>
  <canvas id="mycanvas" width="640" height="360" ></canvas>
  <script>
    //constants
    var GAME_WIDTH = 648;
    var GAME_HEIGHT = 360;

    //enemies
    var enemies = [
    {
      x: 100, //x coordinate
      y: 100, //y coordinate
      speedY: 1, //speed in y
      w: 40, //width
      h: 40 //height
    },
    {
      x: 260,
      y: 100,
      speedY: 2,
      w: 40,
      h: 40
    },
    {
      x: 380,
      y: 100,
      speedY: 3,
      w: 40,
      h: 40
    },
    {
      x: 4500,
      y: 100,
      speedY: 7,
      w: 40,
      h: 40
    }
    ];

    //grab the canvas and context
    var canvas = document.getElementById("mycanvas");
    var ctx = canvas.getContext("2d");

    //update the logic
    var update = function() {
      //update the position of each enemy
      var i = 0;
      var number_of_enemies = enemies.length;

      while(i < number_of_enemies) {
        enemies[i].y += enemies[i].speedY;
        i++;
      }
    };

    //show the game on the screen
    var draw = function() {
      //clear the canvas
      ctx.clearRect(0,0,GAME_WIDTH,GAME_HEIGHT);
      ctx.fillStyle = "#3333FF";

      //draw each enemy
      var i = 0;
      var number_of_enemies = enemies.length;

      while(i < number_of_enemies) {
        ctx.fillRect(enemies[i].x, enemies[i].y, enemies[i].w, enemies[i].h);
        i++;
      } 
    };

    var step = function() {
      update();
      draw();

      window.requestAnimationFrame(step);
    };

    // initial kick
    step();
  </script>
</body>
</html>
